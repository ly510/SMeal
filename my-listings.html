<!DOCTYPE html>
<html lang="en">

<head>
	<!-- ** Basic Page Needs ** -->
	<meta charset="utf-8">
	<title>Edit Profile</title>

	<!-- ** Mobile Specific Metas ** -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">

	<!-- Page icon -->
	<link href="img/logo-white.png" rel="shortcut icon">

	<!-- Stylesheets -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

	<link href="css/navbar.css" rel="stylesheet">
    <link href="css/my-listings.css" rel="stylesheet">

</head>

<body class="body-wrapper">
	<!-- Nav Bar -->
	<header>
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<nav class="navbar navbar-expand-lg navbar-light navigation">
						<a class="navbar-brand" href="home.html">
							<img src="img/logo-black.png" alt="" style="max-height: 60px;">
						</a>
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
							aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="navbarSupportedContent">
							<ul class="navbar-nav ms-auto main-nav">
								<li class="nav-item">
									<a class="nav-link" href="home.html">Home</a>
								</li>
								<li class="nav-item dropdown dropdown-slide">
									<a class="nav-link dropdown-toggle" href="#!" role="button" data-bs-toggle="dropdown">
										Listings <span><i class="fa fa-angle-down"></i></span>
									</a>
					
									<!-- Dropdown list -->
									<ul class="dropdown-menu">
										<li><a class="dropdown-item" href="food-listings.html">Food Listings</a></li>
										<li><a class="dropdown-item" href="my-listings.html">My Listings</a></li>
										<li><a class="dropdown-item" href="accepted-listings.html">Accepted Listings</a></li>
									</ul>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="rewards.html">Rewards</a>
								</li>
							</ul>
							<ul class="navbar-nav ms-auto mt-2">
								<li class="nav-item">
									<a class="nav-link text-white create-button" href="create-listing.html"><i class="fa fa-plus-circle"></i> Create Listing</a>
								</li>
								<li class="nav-item">
									<a class="nav-link profile-button" href="user-profile.html">
										<span class="fa-stack">
											<i class="fa-regular fa-circle fa-stack-2x"></i>
											<i class="fa-solid fa-user fa-stack-1x"></i>
										</span>
										Samanta Doe
									</a>
								</li>
							</ul>
						</div>
					</nav>					
				</div>
			</div>
		</div>
	</header>

<!-- Search Bar -->
<div>
    <form class="search">
        <input type="text" placeholder="Search my listing" class="search-bar">
        <select class="dropdown-menu">
            <option value="all">All categories</option>
            <option value="option2">Option2</option>
            <option value="option3">Option3</option>
        </select>
        <button type="submit" class="search-btn">Search</button>
    </form>
    <a class="nav-link text-white create-button" id="createListing-btn" href="#"><i class="fa fa-plus-circle"></i> Create Listing</a>
</div>

<!-- Create Listing Modal -->
<div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="createModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
	<div class="modal-content">
	<div class="modal-header text-center">
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	</div>
	<div class="modal-body">
		<form action="#">
			<h4 class="modal-title text-center" id="createModalLabel">Create a New Listing!</h4>
			<fieldset class="p-4">
				<!-- Title -->
				<label for="listing-title" class="form-label">Food Listing Title: </label>
				<input id="listing-title" class="form-control mb-3" type="text" placeholder="Enter your listing title" required>

				<!-- Description -->
				<label for="listing-desc" class="form-label">Description: </label>
				<input id="listing-desc" class="form-control mb-3" type="text" placeholder="Enter a short description">

				<!-- User Location -->
				<label for="user-location" class="form-label">User Location: </label>
				<select class="form-select mb-3" id="user-location">
					<option selected disabled>Select your school</option>
					<option value="cis">College of Integrative Studies (CIS)</option>
					<option value="soa">School of Accountancy (SOA)</option>
					<option value="soe">School of Economics (SOE)</option>
					<option value="sol">Yong Pung How School of Law (SOL)</option>
					<option value="sob">Lee Kong Chian School of Business (SOB)</option>
					<option value="scis">School of Computing & Information Systems (SCIS)</option>
					<option value="soss">School of Social Sciences (SOSS)</option>
					<option value="cgrs">College of Graduate Research Studies (CGRS)</option>
				</select>

				<!-- Restaurant -->
				<label for="restaurant" class="form-label">Restaurant: </label>
				<input id="restaurant" class="form-control mb-3" type="text" placeholder="Search for restaurants nearby" required>

				<!-- Payment Type -->
				<label for="payment-type" class="form-label">Select Payment Type: </label>
				<select class="form-select mb-3" id="payment-type">
					<option selected disabled>Select payment type</option>
					<option value="cash">Cash on Delivery</option>
					<option value="card">Credit/Debit Card</option>
					<option value="paynow">PayNow</option>
				</select>

				<button type="submit" class="btn btn-primary font-weight-bold mt-3" id="submitListing">Confirm Listing</button>
			</fieldset>
		</form>
	</div>
	</div>
</div>
</div>

<!-- Display my listings -->
<div class="myListings">

</div>

<!-- Bundled Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" 
crossorigin="anonymous"></script>

<!-- login and sign up modal when onclick-->
<script>
document.getElementById('createListing-btn').addEventListener('click', function () {
	var myModal = new bootstrap.Modal(document.getElementById('createModal'));
	myModal.show();
});

document.getElementById('createListing-btn').addEventListener('click', function () {
  var myModal = new bootstrap.Modal(document.getElementById('createModal'));
  myModal.show();

  // Add event listener to submit button
  document.getElementById('submitListing').addEventListener('click', function (event) {
    event.preventDefault(); // Prevent form from submitting

    // Get values of form fields
    var title = document.getElementById('listing-title').value;
	var description = document.getElementById('listing-desc').value;
	var location = document.getElementById('user-location').value;
	var restaurant = document.getElementById('restaurant').value;
    var paymentType = document.getElementById('payment-type').value;

    // Create new HTML element to display listing
    var listing = document.createElement('div');
    listing.classList.add('listing');
	listing.innerHTML = '<div class="listing-container">' +
                     '<div class="listing-header">' +
                     '<h3 class="listing-title">' + title + '</h3>' +
                     '</div>' +
                     '<div class="listing-body">' +
                     '<p class="listing-description">Description: ' + description + '</p>' +
					 '<p class="listing-restaurant">Restaurant: ' + restaurant + '</p>' +
                     '</div>' +
                     '</div>';

    // Add new listing to myListings div
    var myListings = document.querySelector('.myListings');
    myListings.appendChild(listing);

    // Hide modal
    myModal.hide();
	var backdrop = document.querySelector('.modal-backdrop');
	if(backdrop) {
		backdrop.parentNode.removeChild(backdrop);
	}
  });
});
</script>

</body>
</html>

